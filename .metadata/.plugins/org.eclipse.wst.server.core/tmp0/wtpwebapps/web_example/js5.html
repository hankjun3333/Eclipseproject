<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<!-- 버블링 + 캡쳐링 함수 응용편-->
<body>
<input type="checkbox" id="all" onclick="all_agree(this.checked)">전체동의 <br>
이메일 약관 <input type="radio" name="a" id="a1" onclick="ok(this.name,0)"> 동의함 
<input type="radio" name="a" id="aa1" onclick="ok(this.name,1)" checked> 동의안함 <br>
서비스 약관 <input type="radio" name="b" id="a2" onclick="ok(this.name,0)"> 동의함 
<input type="radio" name="b" id="aa2" onclick="ok(this.name,1)" checked> 동의안함 <br>
개인정보서비스 약관 <input type="radio" name="c" id="a3" onclick="ok(this.name,0)"> 동의함 
<input type="radio" name="c" id="aa3" onclick="ok(this.name,1)" checked> 동의안함 <br>
</body>
<script>
	/* 전체선택 해제 기능 부분 */
	function all_agree(e){
		//console.log(e);
		var w=1;
		while(w<=3){
			
			if(e ==true){
				document.getElementById("a"+w).checked = e;
			}
			else{
				document.getElementById("aa"+w).checked = true;
			}
			w++;
		}
		
	}
	function ok(name,node){
		if(node == 1){
			document.getElementById("all").checked = false;
		}
		var w =1;
		var count =0;
		while(w<=3){
			if(document.getElementById("a"+w).checked ==true){
				count++;
			}
			w++;
		}
		if(count==3){
			document.getElementById("all").checked = true;
		}
	}
</script>
</html>