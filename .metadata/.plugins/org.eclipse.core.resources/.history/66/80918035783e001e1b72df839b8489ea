<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<input type="checkbox" id="all" onclick="aaa(this.checked)"> 상품 전체 선택<br>
<input type="checkbox" id="c1" value="5000" onclick="bbb(this.value,this.checked)"> 포도 : 5000원<br>
<input type="checkbox" id="c2" value="1000" onclick="bbb(this.value,this.checked)"> 사과 : 1000원<br>
<input type="checkbox" id="c3" value="8000" onclick="bbb(this.value,this.checked)"> 멜론 : 8000원<br>
<input type="checkbox" id="c4" value="1200" onclick="bbb(this.value,this.checked)"> 체리 : 1200원<br>
결제하실 금액 : <div id="total"> 0 </div> 원
</body>
<script>
	var totalsum = 0;
	function aaa(e){
		var totalsum = 0;
		var w=1;
		while(w<=4){
			document.getElementById("c"+w).checked = e;
			if(e ==true){
				totalsum += Number(document.getElementById("c"+w).value);
			}			
			else{
				if(totalsum != 0){
					totalsum -= Number(document.getElementById("c"+w).value);
				}
			}			
			w++;
		}
		document.getElementById("total").innerText = totalsum;
	}
	
	function bbb(val,ck){
		var aa = document.getElementById("all");
		var check = true;
		var w=1;
		while(w<=4){
			if(document.getElementById("c"+w).checked==false){
				check = false;
			}
			w++;
		}
		if(check ==false){
			aa.checked = false;
		}
		else{
			aa.checked = true;
		}
		if(ck == true){
			totalsum += Number(val);
		}
		else{
			totalsum -= Number(val);
		}
		document.getElementById("total").innerText = totalsum;
		
		
	}
</script>
</html>